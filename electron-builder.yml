appId: com.pennyos.openchat
productName: OpenChat
asar: true
icon: logo.png

directories:
  output: release

files:
  - out/**
  - package.json
  - logo.png

extraMetadata:
  main: out/main/index.js

artifactName: openchat-client-${version}-${os}-${arch}.${ext}

publish:
  provider: github
  owner: porthorian
  repo: openchat-client
  releaseType: release
  vPrefixedTagName: true

mac:
  category: public.app-category.social-networking
  icon: logo.png
  target:
    - target: dmg
      arch:
        - x64
        - arm64
    - target: zip
      arch:
        - x64
        - arm64
  hardenedRuntime: true
  gatekeeperAssess: false
  entitlements: build/entitlements.mac.plist
  entitlementsInherit: build/entitlements.mac.plist

win:
  icon: logo.png
  target:
    - target: nsis
      arch:
        - x64

linux:
  category: Network
  maintainer: OpenChat Maintainers <maintainers@pennyos.com>
  icon: logo.png
  target:
    - AppImage
    - deb

nsis:
  oneClick: false
  allowToChangeInstallationDirectory: true
